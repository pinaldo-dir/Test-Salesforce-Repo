@IsTest
public class Test_OWCGarmentInterviewDraftController {
    @IsTest
    public static void testSetUp(){
        Trigger_Settings__c setting = new Trigger_Settings__c();
        setting.Name = 'GenerateFieldHistoryAction';
        setting.Is_Active__c = TRUE;
        insert setting;
        
        StaticResource srs = [SELECT Id, Body FROM StaticResource WHERE Name = 'OWCPDFJsonTestData' LIMIT 1];
        DIR_Case__c cse = new DIR_Case__c();
        cse.recordTypeId = OWCConstants.PRE_DOCKETING_CASE_RECORD_TYPE_ID;
        cse.Related_Party_Employee_Email__c = 'rrastogi@cloudsciencelabs.com';
        cse.Status__c = 'Not Confirmed';
        cse.Advocate_Name_in_Text__c = 'Rajat';
        cse.Employer_Name_in_Text__c = 'Amit';
        cse.Claimant_Name_in_Text__c = 'Abhay';
        cse.Case_Number__c = 'testnumber';
        cse.Intake_Origin__c='Online';
        cse.Garment_Interview_JSON__c= srs.Body.toString();//'{"claimantEmployeeValues":{"sectionId":"1","countryCodeindividualRepPhone":"+1","countryCodelawfirmRepStatePhone":"+1","claimantConfirmUploadDoc":[],"isClaimantConfirmUpload":false,"claimantConfirmDocSize":"","isClaimantConfirmation":false,"claimantDetails":{"yourselfFirstName":"Pavitra","yourselfLastName":"Chauhan","yourselfHomePhone":"9876543210","countryCodeyourselfCellPhone":"+1","countryCodeyourselfHomePhone":"+1","yourselfBirthDate":"1999-11-09","yourselfStreetAddress":"Meerut","yourselfCity":"Nagina","yourselfState":"CA","yourselfZipCode":"24676","isPrefferedLanguage":false,"isOtherPrefferedLanguage":false},"isIndividualStatePicklist":false,"isLawFirmStatePicklist":false,"isOrganizationStatePicklist":false,"WageClaimSubmit":"Representative","isYourself":false,"isRepresentative":true,"representativeAdvocateType":"Law Firm","isLawFirmRepresentation":true,"isOrganizationRepresentation":false,"isIndividualRepresentation":false,"individualRepFirstName":"","individualRepLastName":"","individualRepStreetAddress":"","individualRepCity":"","individualRepState":"","individualRepZipCode":"","individualRepPhone":"","individualRepPhoneType":"","individualRepEmail":"","individualRepWebsite":"","individualRepClaimantRelationship":"","lawfirmRepBusinessName":"Jack enterprise","lawfirmRepAttorney":"","lawfirmRepStreetAddress":"Meerut","lawfirmRepCity":"Nagina","lawfirmRepState":"CA","lawfirmRepStatePhone":"","lawFirmRepZipCode":"24676","lawfirmRepEmail":"","lawfirmRepWebsite":"","organizationRepBusinessName":"","organizationRepAttorney":"","organizationRepStreetAddress":"","organizationRepCity":"","organizationRepState":"","organizationRepPhone":"","organizationRepZipCode":"","organizationRepEmail":"","organizationRepWebsite":"","isPrefferedLanguage":false,"isOtherPrefferedLanguage":false,"isAdvocateAssist":false,"contentVersionIds":[],"totalUploadFiles":[]},"industryInfoDataValues":{"sectionId":"2","isCSLBShow":false,"isEmployerProvideStatement":false,"selectedIndustry":"Household or Laundry Services","isIndustrySpec":true,"isFarmLaborContractors":false,"selectedOption":"Private Households","rateOfCompensation":"","isRateOfCompensation":false,"farmWorker":"","isYouFarmLaborer":false,"isFacilityPersonalAttendent":false,"heatRecovery":"","isHeatRecPeriod":false,"separateHeatRecovery":"","writtenReqDate":"","statementDate":"","empStatementProvided":"","isHouseDomesticWorker":true,"isHousePersonalAttendent":false,"isDomesticWorkInHome":"","personalAttendentWorkType":"","personalAttendentWorkHome":"","personalAttendentRegisteredNurse":"","personalAttendentLiveInWorkHome":"","personalAttendentSentByHomeAgency":"","facilityPersonalAttendentWorkType":"","facilityWorkResidential":"","facilityAttendentRegisteredNurse":"","isLabelsInfo":false,"isClaimantGarment":false,"listOfDuties":"dev","isNotChangedCurrentStep":""},"employeesDetails":[{"sectionId":1,"countryCodeindividualBusinessPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeOtherIndividualPhone":"+1","employerChangedName":"Yes","isEmployerChangedName":true,"isOfficeLocatorMail":false,"IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"uploadedEmployerAdditionalDocuments":[],"isEmployerAdditionalDoc":false,"isEmployerDocUpload":false,"uploadUnionContractDocument":[],"IsOther":false,"isEmployerSellingAssets":false,"uploadUnionContractDocumentadditional":[],"representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":"Abhay","individualLastName":"Chauhan","individualStreetAddress":"Meerut","individualCity":"Nagina","individualState":"CA","IsAdditionalInfo":false,"individualZipCode":"24676","individualBusinessPhone":"9876543221","individualCellPhone":null,"individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualBusinessName":null,"OtherIndividualStreetAddress":null,"OtherIndividualCity":null,"OtherIndividualState":"CA","OtherIndividualZipCode":null,"OtherIndividualPhone":null,"OtherIndividualEmail":null,"OtherIndividualVehicleLicense":null,"OtherIndividualWebsite":null,"isUnionDocumentFileUploaded":false,"isFileUploadedAdditional":false,"additionalTotalEmployees":"100","IsOtherIndividual":false,"isUnionContractCovered":false,"isEmployeeFilingWageClaim":false,"covid19Claim":"No","isEmployeeFilingWageClaimOther":false,"isDontKnow":false,"isUnionContractDocumentUpload":false,"isUrlAddress":false,"isMailToOfficeLocator":false,"employerNameChangedDetails":{"additionalTotalEmployees":"100","IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"IsOther":false,"representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":"Vikas","individualLastName":"Chauhan","countryCodeOtherIndividualPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeindividualBusinessPhone":"+1","individualStreetAddress":"Meerut","individualCity":"Nagina","individualState":"CA","individualZipCode":"24676","individualBusinessPhone":"9876543221","individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualState":"CA","IsOtherIndividual":false,"isDontKnow":false,"isUSPSAddressInvalid":false,"isUPSPAddressValid":false,"uspsCurrentAddressCheck":false,"isUSPSAddressErrorTemplate":false,"isUSPSAddressSuccessTemplate":false,"isUSPSAddressCheck":false,"uspsProceedAddress":false,"IndividualFirstNamerequired":false,"IndividualStreetAddressrequired":false,"IndividualCityrequired":false,"IndividualStaterequired":false,"IndividualZipCoderequired":false,"IndividualBusinessPhonerequired":false,"OtherStreetAddressrequired":false,"OtherCityrequired":false,"OtherStaterequired":false,"OtherZipCoderequired":false,"OtherBusinessPhonerequired":false},"employerChangedNameAfterEmployement":"Yes","isEmployerChangedNameAfterEmployement":true,"isNotChangedCurrentSteps":false,"successorDetails":{"labelDetails":"","successorDetails":[{"workForThisComp":"Yes","workWithSameWorokers":"Yes","ownershipOfCompRelated":"Owner(s) of both were same","employerNameAfterEmployementDetails":{"IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"IsOther":false,"countryCodeindividualBusinessPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeOtherIndividualPhone":"+1","representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":null,"individualLastName":"Rana","individualStreetAddress":null,"individualCity":null,"individualState":"CA","individualZipCode":null,"individualBusinessPhone":null,"individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualState":"CA","IsOtherIndividual":false,"isDontKnow":false,"isUSPSAddressInvalid":false,"isUPSPAddressValid":false,"uspsCurrentAddressCheck":false,"isUSPSAddressErrorTemplate":false,"isUSPSAddressSuccessTemplate":false,"isUSPSAddressCheck":false,"uspsProceedAddress":false},"length":0},{"workForThisComp":"Yes","workWithSameWorokers":"Yes","ownershipOfCompRelated":"Owner(s) of both were same","employerNameAfterEmployementDetails":{"IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"IsOther":false,"countryCodeindividualBusinessPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeOtherIndividualPhone":"+1","representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":null,"individualLastName":"Rana","individualStreetAddress":null,"individualCity":null,"individualState":"CA","individualZipCode":null,"individualBusinessPhone":null,"individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualState":"CA","IsOtherIndividual":false,"isDontKnow":false,"isUSPSAddressInvalid":false,"isUPSPAddressValid":false,"uspsCurrentAddressCheck":false,"isUSPSAddressErrorTemplate":false,"isUSPSAddressSuccessTemplate":false,"isUSPSAddressCheck":false,"uspsProceedAddress":false},"length":0}],"isNotChangedCurrentStep":"","successorSectionValues":{"workForThisComp":"Yes","workWithSameWorokers":"Yes","ownershipOfCompRelated":"Owner(s) of both were same","employerNameAfterEmployementDetails":{"IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"IsOther":false,"countryCodeindividualBusinessPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeOtherIndividualPhone":"+1","representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":null,"individualLastName":"Rana","individualStreetAddress":null,"individualCity":null,"individualState":"CA","individualZipCode":null,"individualBusinessPhone":null,"individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualState":"CA","IsOtherIndividual":false,"isDontKnow":false,"isUSPSAddressInvalid":false,"isUPSPAddressValid":false,"uspsCurrentAddressCheck":false,"isUSPSAddressErrorTemplate":false,"isUSPSAddressSuccessTemplate":false,"isUSPSAddressCheck":false,"uspsProceedAddress":false},"length":0},"renderSuccessorSection":[{"heading":"Employer Information","button":false,"sectionId":1}],"labelInformationSectionValues":"","renderLabelInformationSection":""},"employerVerificationUploadDoc":[],"isEmployerVerificationDoc":false,"isSignCard":false,"isRetaliationComplain":false,"isRetaliationComplainFalse":false,"mileageClaimDetails":[{"sectionId":1}],"renderMilegaClaimSection":[{"heading":"Mileage Expense Claim","button":false,"sectionId":1}],"showAdditionalInfoHeading":false,"IndividualFirstNamerequired":false,"IndividualStreetAddressrequired":false,"IndividualCityrequired":false,"IndividualStaterequired":false,"IndividualZipCoderequired":false,"IndividualBusinessPhonerequired":false,"OtherStreetAddressrequired":false,"OtherCityrequired":false,"OtherStaterequired":false,"OtherZipCoderequired":false,"OtherBusinessPhonerequired":false,"totalVerficationUploadFiles":[],"totalUnionUploadFiles":[],"totalEmployerUploadFile":[]}],"renderEmpSection":[{"heading":"Claim Filed Against (Employer Information)","button":false,"sectionId":1,"isPreliminaryShown":true}],"otherLocWorkInfo":{"workLocationBusinessAddress":"No","isBusinessAddressDifferent":false,"otherBusinessStreetAddress":"","otherBusinessCity":"","approximateLocation":"","countryCode":"+1","otherBusinessState":"CA","otherBusinessZipCode":"","otherBusinessPhone":"","isClaimantAdvocate":false},"employeeStatusAndFinalClaimDetails":{"QuitDateTemplate":false,"DischargeDateTemplate":false,"hireDate":"2019-11-04","howWereYourWagesPaid":"Cash","isCheck":false,"paidByCheck":null,"isChequeBounce":false,"chequeReplaced":null,"isChequeReplaced":false,"chequeReplacedDate":null,"isOther":false,"Explanation":null,"isPayStubRecord":false,"isstillIdentifiedEmp":false,"isreceivedFinalPayment":false,"isDidntReceivedFinalPayment":false,"isreceivedFinalPayment2":false,"isDidntReceivedFinalPayment2":false},"paymentOfWagesDetails":{"isOneHourlyAdditionalSection":false,"isDifferentHourAdditionalInfoSection":false,"isPieceRateAdditionalSection":false,"isSalaryRateAdditionalSection":false,"isCommissionReciptFileUpload":false,"isAgreementFileUpload":false,"agreementDocs":[],"isSelectedFileDeleted":false,"value":[],"isOneHourlyRate":false,"isOneHourlyRateClicked":false,"isDifferentHourRate":false,"paidAmountDifferentHour":null,"paidAmountDifferentHourAdditional":null,"promisedAmountDifferentHour":null,"promisedAmountDifferentHourAdditional":null,"forActivity":null,"forActivityAdditional":null,"differentHourlyRateBegDate":null,"differentHourlyRateEndDate":null,"isDifferentHourRateClicked":false,"differentHourlyRateBegDateAdditional":null,"differentHourlyRateEndDateAdditional":null,"isSalaryRateForEachDay":true,"paidAmountForEachDay":"100","promisedAmountForEachDay":"120","promisedAmountForEachDayAdditional":null,"frequencyOfEachDay":"Monthly","frequencyOfEachDayAdditional":null,"eachPayRateBegDate":null,"eachPayRateBegDateAdditional":null,"eachPayRateEndDate":null,"eachPayRateEndDateAdditional":null,"isEachPayClicked":false,"isCommissionRate":false,"isWrittenCommission":false,"isFileUploaded":false,"isPieceRate":false,"isProvidePriceRate":false,"isPerUnitOtherAdditional":false,"isPerUnitOther":false,"isPieceOfRateClicked":false,"paymentOfWagesForGarmentDetails":[],"differentHourAdditionalDetails":[],"renderDifferentHourAdditonalSection":[],"hourlyAdditionalDetails":[],"renderOneHourlyAdditonalSection":[],"salaryRateAdditionalDetails":[],"renderSalaryRateAdditonalSection":[],"pieceRateAdditionalDetails":[],"renderPieceRateAdditonalSection":[],"HourlyOptionValue":false,"pieceRateOptionValue":false,"commissionRateOptionValue":false,"salaryRateOptionValue":true,"differentHourOptionValue":false,"contentVersionIds":[],"totalUploadFiles":[]},"hoursYouTypicallyWorkedDetails":{"selectedHolidayOptions":[],"isSameWeekDaysAndHours":false,"isDaysOrWeekVaried":false,"isRestPeriodNotfourHours":false,"isMealPeriodNotProvide":false,"isWorkMissedDueToIllness":false,"isWorkMissedReason":false,"isCompanyHolidayOther":false,"overTimeSheet":[],"isOverTimeSheetUploaded":true,"contentVersionIds":[],"totalUploadFiles":[]},"workWeekAndWorkDaysDetails":{"workWeekValue":""},"wageDeficiencyDetails":[{"sectionId":1,"notPaidForWork":false,"showOneHourlyRateTemplate":false,"isOneHourlyRate":false,"renderWorkedNotPaidSection":[],"noOvertimePaid":true,"isSecondOptionTrue":true,"overTimeDetails":[{"sectionId":1,"claimDoubleTimeOnly":"Overtime only","isDoubleTimeClaim":true,"isOneHourly":true,"violationTypeVariablesForOneHourly":[{"dataType":"Decimal","description":"Overtime rate","label":"Overtime Rate","name":"VTV1462","value":"1.5","violationId":"a2Kd0000000tigJEAQ","violationTypeId":"a1id0000001Sz3NAAS","inputFormat":true,"isHide":true},{"dataType":"Date","description":"START DATE FOR **OT** WAGES CLAIMED","label":"Start date of this claim (MM/DD/YYYY)","name":"VTV1450","value":"","violationId":"a2Kd0000000tieYEAQ","violationTypeId":"a1id0000001Sz3NAAS","dateFormat":true,"isHide":false},{"dataType":"Date","description":"END DATE FOR **OT** WAGES CLAIMED","label":"End date of this claim (MM/DD/YYYY)","name":"VTV1451","value":"","violationId":"a2Kd0000000timCEAQ","violationTypeId":"a1id0000001Sz3NAAS","dateFormat":true,"isHide":false},{"dataType":"Currency","description":"$ REGULAR RATE OF PAY (Hourly rate)","label":"What is your regular hourly rate of pay?","name":"VTV1449","value":"","violationId":"a2Kd0000000tif3EAA","violationTypeId":"a1id0000001Sz3NAAS","currencyFormat":true,"isHide":false},{"dataType":"Integer","description":"TOTAL NUMBER OF **OT** HRS WORKED DURING CLAIM PERIOD","label":"How many overtime hours did you work during this claim period?","name":"VTV1452","value":"","violationId":"a2Kd0000000tiaQEAQ","violationTypeId":"a1id0000001Sz3NAAS","inputFormat":true,"isHide":false},{"dataType":"Currency","description":"$ TOTAL AMOUNT PAID BY EMPLOYER FOR **OT** HRS WORKED DURING CLAIM PERIOD","label":"What is the total amount paid by the employer for overtime hours worked during this claim period?","name":"VTV1453","value":"","violationId":"a2Kd0000000tilcEAA","violationTypeId":"a1id0000001Sz3NAAS","currencyFormat":true,"isHide":false}],"isSalaryRatePOW":false,"isOneHourlyRec":false,"isSalaryRatePOWRec":false,"isOneHourlyRecs":false,"isSalaryRatePOWRecs":false,"isAdditonalCheck":false}],"renderOverTimeSection":[{"heading":"Overtime Claim","button":false,"sectionId":1}],"noSickLeavePaid":false,"isThirdOptionTrue":false,"notPaidForVacationTime":false,"isFourthOptionTrue":false,"notPaidForHoliday":false,"isFifthOptionTrue":false,"notAllowedBathBreak":false,"isSixthOptionTrue":false,"notAllowedMealBreak":false,"isSeventhOptionTrue":false,"notAllowedForHeatRest":false,"isEightOptionTrue":false,"notPaidSeverancePay":false,"deniedShareTips":false,"isTenthOptionTrue":false,"deniedBusinessCost":false,"isEleventhOptionTrue":false,"deniedPaymentMilega":false,"isTwelveOptionTrue":false,"paycheckDeduction":false,"isThirteenthOptionTrue":false,"deniedPayrollInfo":false,"isFouteenOptionTrue":false,"deniedPersonnelFile":false,"isFifteenOptionTrue":false,"employerDeniedWork":false,"isSixteenOptionTrue":false,"productionBonus":false,"isSeventeenOptionTrue":false,"reportedToWork":false,"isEighteenOptionTrue":false,"isEmployeeWorkedDateValid":false,"vacationTimeClaimDetails":[],"isVacationTimeClaimUpload":false,"isVacationTime":false,"isHolidayPay":false,"isSeverancePay":false,"isPayRollInfo":false,"isPayCheck":false,"isPersonalFile":false,"isProductionBonus":false,"isBusinessCost":false,"unreimbursedDoc":[],"isUnreimbursedUpload":false,"isExplain":false,"noticebeforequit":false,"contentVersionIds":[],"isHolidayPays":false,"isWrittenStatement":false,"isHeatRestDef":false,"isShowClaimHeading":true,"paidbycheck":false,"werewagespaid":false,"isLatePayroll":false,"totalVacationFiles":[],"totalUnremburisedFiles":[],"isSeverancePayTrue":false,"flag":0}],"certAndAuthDetails":{"isAuthorizationRelease":true,"isAdditionalClaimDocUpload":false,"claimantName":"Jack","claimDate":"2021-11-08","contentVersionIds":[]}}';
        insert cse;
        
        DIR_Case__c caseObj = [SELECT Id, Garment_Interview_JSON__c FROM DIR_Case__c WHERE Related_Party_Employee_Email__c = 'rrastogi@cloudsciencelabs.com' LIMIT 1];
        Test.startTest();
        OWCGarmentInterviewDraftController.getOWCGarmentJSONResponse(caseObj.Id);
        OWCGarmentInterviewDraftController.updateCaseRecWithJSON(caseObj.Id, caseObj.Garment_Interview_JSON__c);
        Test.stopTest();
    }
    
    @IsTest
    public static void testGarmentInterviewForNegativeCase(){
        Trigger_Settings__c setting = new Trigger_Settings__c();
        setting.Name = 'GenerateFieldHistoryAction';
        setting.Is_Active__c = TRUE;
        insert setting;
        
        StaticResource srs = [SELECT Id, Body FROM StaticResource WHERE Name = 'OWCPDFJsonTestData' LIMIT 1];
        DIR_Case__c cse = new DIR_Case__c();
        cse.recordTypeId = OWCConstants.PRE_DOCKETING_CASE_RECORD_TYPE_ID;
        cse.Related_Party_Employee_Email__c = 'rrastogi@cloudsciencelabs.com';
        cse.Status__c = 'Not Confirmed';
        cse.Advocate_Name_in_Text__c = 'Rajat';
        cse.Employer_Name_in_Text__c = 'Amit';
        cse.Claimant_Name_in_Text__c = 'Abhay';
        cse.Case_Number__c = 'testnumber';
        cse.Intake_Origin__c='Online';
        //cse.Garment_Interview_JSON__c= srs.Body.toString();//'{"claimantEmployeeValues":{"sectionId":"1","countryCodeindividualRepPhone":"+1","countryCodelawfirmRepStatePhone":"+1","claimantConfirmUploadDoc":[],"isClaimantConfirmUpload":false,"claimantConfirmDocSize":"","isClaimantConfirmation":false,"claimantDetails":{"yourselfFirstName":"Pavitra","yourselfLastName":"Chauhan","yourselfHomePhone":"9876543210","countryCodeyourselfCellPhone":"+1","countryCodeyourselfHomePhone":"+1","yourselfBirthDate":"1999-11-09","yourselfStreetAddress":"Meerut","yourselfCity":"Nagina","yourselfState":"CA","yourselfZipCode":"24676","isPrefferedLanguage":false,"isOtherPrefferedLanguage":false},"isIndividualStatePicklist":false,"isLawFirmStatePicklist":false,"isOrganizationStatePicklist":false,"WageClaimSubmit":"Representative","isYourself":false,"isRepresentative":true,"representativeAdvocateType":"Law Firm","isLawFirmRepresentation":true,"isOrganizationRepresentation":false,"isIndividualRepresentation":false,"individualRepFirstName":"","individualRepLastName":"","individualRepStreetAddress":"","individualRepCity":"","individualRepState":"","individualRepZipCode":"","individualRepPhone":"","individualRepPhoneType":"","individualRepEmail":"","individualRepWebsite":"","individualRepClaimantRelationship":"","lawfirmRepBusinessName":"Jack enterprise","lawfirmRepAttorney":"","lawfirmRepStreetAddress":"Meerut","lawfirmRepCity":"Nagina","lawfirmRepState":"CA","lawfirmRepStatePhone":"","lawFirmRepZipCode":"24676","lawfirmRepEmail":"","lawfirmRepWebsite":"","organizationRepBusinessName":"","organizationRepAttorney":"","organizationRepStreetAddress":"","organizationRepCity":"","organizationRepState":"","organizationRepPhone":"","organizationRepZipCode":"","organizationRepEmail":"","organizationRepWebsite":"","isPrefferedLanguage":false,"isOtherPrefferedLanguage":false,"isAdvocateAssist":false,"contentVersionIds":[],"totalUploadFiles":[]},"industryInfoDataValues":{"sectionId":"2","isCSLBShow":false,"isEmployerProvideStatement":false,"selectedIndustry":"Household or Laundry Services","isIndustrySpec":true,"isFarmLaborContractors":false,"selectedOption":"Private Households","rateOfCompensation":"","isRateOfCompensation":false,"farmWorker":"","isYouFarmLaborer":false,"isFacilityPersonalAttendent":false,"heatRecovery":"","isHeatRecPeriod":false,"separateHeatRecovery":"","writtenReqDate":"","statementDate":"","empStatementProvided":"","isHouseDomesticWorker":true,"isHousePersonalAttendent":false,"isDomesticWorkInHome":"","personalAttendentWorkType":"","personalAttendentWorkHome":"","personalAttendentRegisteredNurse":"","personalAttendentLiveInWorkHome":"","personalAttendentSentByHomeAgency":"","facilityPersonalAttendentWorkType":"","facilityWorkResidential":"","facilityAttendentRegisteredNurse":"","isLabelsInfo":false,"isClaimantGarment":false,"listOfDuties":"dev","isNotChangedCurrentStep":""},"employeesDetails":[{"sectionId":1,"countryCodeindividualBusinessPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeOtherIndividualPhone":"+1","employerChangedName":"Yes","isEmployerChangedName":true,"isOfficeLocatorMail":false,"IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"uploadedEmployerAdditionalDocuments":[],"isEmployerAdditionalDoc":false,"isEmployerDocUpload":false,"uploadUnionContractDocument":[],"IsOther":false,"isEmployerSellingAssets":false,"uploadUnionContractDocumentadditional":[],"representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":"Abhay","individualLastName":"Chauhan","individualStreetAddress":"Meerut","individualCity":"Nagina","individualState":"CA","IsAdditionalInfo":false,"individualZipCode":"24676","individualBusinessPhone":"9876543221","individualCellPhone":null,"individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualBusinessName":null,"OtherIndividualStreetAddress":null,"OtherIndividualCity":null,"OtherIndividualState":"CA","OtherIndividualZipCode":null,"OtherIndividualPhone":null,"OtherIndividualEmail":null,"OtherIndividualVehicleLicense":null,"OtherIndividualWebsite":null,"isUnionDocumentFileUploaded":false,"isFileUploadedAdditional":false,"additionalTotalEmployees":"100","IsOtherIndividual":false,"isUnionContractCovered":false,"isEmployeeFilingWageClaim":false,"covid19Claim":"No","isEmployeeFilingWageClaimOther":false,"isDontKnow":false,"isUnionContractDocumentUpload":false,"isUrlAddress":false,"isMailToOfficeLocator":false,"employerNameChangedDetails":{"additionalTotalEmployees":"100","IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"IsOther":false,"representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":"Vikas","individualLastName":"Chauhan","countryCodeOtherIndividualPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeindividualBusinessPhone":"+1","individualStreetAddress":"Meerut","individualCity":"Nagina","individualState":"CA","individualZipCode":"24676","individualBusinessPhone":"9876543221","individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualState":"CA","IsOtherIndividual":false,"isDontKnow":false,"isUSPSAddressInvalid":false,"isUPSPAddressValid":false,"uspsCurrentAddressCheck":false,"isUSPSAddressErrorTemplate":false,"isUSPSAddressSuccessTemplate":false,"isUSPSAddressCheck":false,"uspsProceedAddress":false,"IndividualFirstNamerequired":false,"IndividualStreetAddressrequired":false,"IndividualCityrequired":false,"IndividualStaterequired":false,"IndividualZipCoderequired":false,"IndividualBusinessPhonerequired":false,"OtherStreetAddressrequired":false,"OtherCityrequired":false,"OtherStaterequired":false,"OtherZipCoderequired":false,"OtherBusinessPhonerequired":false},"employerChangedNameAfterEmployement":"Yes","isEmployerChangedNameAfterEmployement":true,"isNotChangedCurrentSteps":false,"successorDetails":{"labelDetails":"","successorDetails":[{"workForThisComp":"Yes","workWithSameWorokers":"Yes","ownershipOfCompRelated":"Owner(s) of both were same","employerNameAfterEmployementDetails":{"IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"IsOther":false,"countryCodeindividualBusinessPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeOtherIndividualPhone":"+1","representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":null,"individualLastName":"Rana","individualStreetAddress":null,"individualCity":null,"individualState":"CA","individualZipCode":null,"individualBusinessPhone":null,"individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualState":"CA","IsOtherIndividual":false,"isDontKnow":false,"isUSPSAddressInvalid":false,"isUPSPAddressValid":false,"uspsCurrentAddressCheck":false,"isUSPSAddressErrorTemplate":false,"isUSPSAddressSuccessTemplate":false,"isUSPSAddressCheck":false,"uspsProceedAddress":false},"length":0},{"workForThisComp":"Yes","workWithSameWorokers":"Yes","ownershipOfCompRelated":"Owner(s) of both were same","employerNameAfterEmployementDetails":{"IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"IsOther":false,"countryCodeindividualBusinessPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeOtherIndividualPhone":"+1","representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":null,"individualLastName":"Rana","individualStreetAddress":null,"individualCity":null,"individualState":"CA","individualZipCode":null,"individualBusinessPhone":null,"individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualState":"CA","IsOtherIndividual":false,"isDontKnow":false,"isUSPSAddressInvalid":false,"isUPSPAddressValid":false,"uspsCurrentAddressCheck":false,"isUSPSAddressErrorTemplate":false,"isUSPSAddressSuccessTemplate":false,"isUSPSAddressCheck":false,"uspsProceedAddress":false},"length":0}],"isNotChangedCurrentStep":"","successorSectionValues":{"workForThisComp":"Yes","workWithSameWorokers":"Yes","ownershipOfCompRelated":"Owner(s) of both were same","employerNameAfterEmployementDetails":{"IsIndividual":true,"isClaimantAdvocate":true,"isOtherIndividualPicklist":false,"isIndividualStatePicklist":true,"IsOther":false,"countryCodeindividualBusinessPhone":"+1","countryCodeindividualCellPhone":"+1","countryCodeOtherIndividualPhone":"+1","representativeEmployerType":"Individual/Sole Proprietor","showIndividualSole":true,"individualFirstName":null,"individualLastName":"Rana","individualStreetAddress":null,"individualCity":null,"individualState":"CA","individualZipCode":null,"individualBusinessPhone":null,"individualEmail":null,"individualVehicleLicense":null,"individualWebsite":null,"OtherIndividualState":"CA","IsOtherIndividual":false,"isDontKnow":false,"isUSPSAddressInvalid":false,"isUPSPAddressValid":false,"uspsCurrentAddressCheck":false,"isUSPSAddressErrorTemplate":false,"isUSPSAddressSuccessTemplate":false,"isUSPSAddressCheck":false,"uspsProceedAddress":false},"length":0},"renderSuccessorSection":[{"heading":"Employer Information","button":false,"sectionId":1}],"labelInformationSectionValues":"","renderLabelInformationSection":""},"employerVerificationUploadDoc":[],"isEmployerVerificationDoc":false,"isSignCard":false,"isRetaliationComplain":false,"isRetaliationComplainFalse":false,"mileageClaimDetails":[{"sectionId":1}],"renderMilegaClaimSection":[{"heading":"Mileage Expense Claim","button":false,"sectionId":1}],"showAdditionalInfoHeading":false,"IndividualFirstNamerequired":false,"IndividualStreetAddressrequired":false,"IndividualCityrequired":false,"IndividualStaterequired":false,"IndividualZipCoderequired":false,"IndividualBusinessPhonerequired":false,"OtherStreetAddressrequired":false,"OtherCityrequired":false,"OtherStaterequired":false,"OtherZipCoderequired":false,"OtherBusinessPhonerequired":false,"totalVerficationUploadFiles":[],"totalUnionUploadFiles":[],"totalEmployerUploadFile":[]}],"renderEmpSection":[{"heading":"Claim Filed Against (Employer Information)","button":false,"sectionId":1,"isPreliminaryShown":true}],"otherLocWorkInfo":{"workLocationBusinessAddress":"No","isBusinessAddressDifferent":false,"otherBusinessStreetAddress":"","otherBusinessCity":"","approximateLocation":"","countryCode":"+1","otherBusinessState":"CA","otherBusinessZipCode":"","otherBusinessPhone":"","isClaimantAdvocate":false},"employeeStatusAndFinalClaimDetails":{"QuitDateTemplate":false,"DischargeDateTemplate":false,"hireDate":"2019-11-04","howWereYourWagesPaid":"Cash","isCheck":false,"paidByCheck":null,"isChequeBounce":false,"chequeReplaced":null,"isChequeReplaced":false,"chequeReplacedDate":null,"isOther":false,"Explanation":null,"isPayStubRecord":false,"isstillIdentifiedEmp":false,"isreceivedFinalPayment":false,"isDidntReceivedFinalPayment":false,"isreceivedFinalPayment2":false,"isDidntReceivedFinalPayment2":false},"paymentOfWagesDetails":{"isOneHourlyAdditionalSection":false,"isDifferentHourAdditionalInfoSection":false,"isPieceRateAdditionalSection":false,"isSalaryRateAdditionalSection":false,"isCommissionReciptFileUpload":false,"isAgreementFileUpload":false,"agreementDocs":[],"isSelectedFileDeleted":false,"value":[],"isOneHourlyRate":false,"isOneHourlyRateClicked":false,"isDifferentHourRate":false,"paidAmountDifferentHour":null,"paidAmountDifferentHourAdditional":null,"promisedAmountDifferentHour":null,"promisedAmountDifferentHourAdditional":null,"forActivity":null,"forActivityAdditional":null,"differentHourlyRateBegDate":null,"differentHourlyRateEndDate":null,"isDifferentHourRateClicked":false,"differentHourlyRateBegDateAdditional":null,"differentHourlyRateEndDateAdditional":null,"isSalaryRateForEachDay":true,"paidAmountForEachDay":"100","promisedAmountForEachDay":"120","promisedAmountForEachDayAdditional":null,"frequencyOfEachDay":"Monthly","frequencyOfEachDayAdditional":null,"eachPayRateBegDate":null,"eachPayRateBegDateAdditional":null,"eachPayRateEndDate":null,"eachPayRateEndDateAdditional":null,"isEachPayClicked":false,"isCommissionRate":false,"isWrittenCommission":false,"isFileUploaded":false,"isPieceRate":false,"isProvidePriceRate":false,"isPerUnitOtherAdditional":false,"isPerUnitOther":false,"isPieceOfRateClicked":false,"paymentOfWagesForGarmentDetails":[],"differentHourAdditionalDetails":[],"renderDifferentHourAdditonalSection":[],"hourlyAdditionalDetails":[],"renderOneHourlyAdditonalSection":[],"salaryRateAdditionalDetails":[],"renderSalaryRateAdditonalSection":[],"pieceRateAdditionalDetails":[],"renderPieceRateAdditonalSection":[],"HourlyOptionValue":false,"pieceRateOptionValue":false,"commissionRateOptionValue":false,"salaryRateOptionValue":true,"differentHourOptionValue":false,"contentVersionIds":[],"totalUploadFiles":[]},"hoursYouTypicallyWorkedDetails":{"selectedHolidayOptions":[],"isSameWeekDaysAndHours":false,"isDaysOrWeekVaried":false,"isRestPeriodNotfourHours":false,"isMealPeriodNotProvide":false,"isWorkMissedDueToIllness":false,"isWorkMissedReason":false,"isCompanyHolidayOther":false,"overTimeSheet":[],"isOverTimeSheetUploaded":true,"contentVersionIds":[],"totalUploadFiles":[]},"workWeekAndWorkDaysDetails":{"workWeekValue":""},"wageDeficiencyDetails":[{"sectionId":1,"notPaidForWork":false,"showOneHourlyRateTemplate":false,"isOneHourlyRate":false,"renderWorkedNotPaidSection":[],"noOvertimePaid":true,"isSecondOptionTrue":true,"overTimeDetails":[{"sectionId":1,"claimDoubleTimeOnly":"Overtime only","isDoubleTimeClaim":true,"isOneHourly":true,"violationTypeVariablesForOneHourly":[{"dataType":"Decimal","description":"Overtime rate","label":"Overtime Rate","name":"VTV1462","value":"1.5","violationId":"a2Kd0000000tigJEAQ","violationTypeId":"a1id0000001Sz3NAAS","inputFormat":true,"isHide":true},{"dataType":"Date","description":"START DATE FOR **OT** WAGES CLAIMED","label":"Start date of this claim (MM/DD/YYYY)","name":"VTV1450","value":"","violationId":"a2Kd0000000tieYEAQ","violationTypeId":"a1id0000001Sz3NAAS","dateFormat":true,"isHide":false},{"dataType":"Date","description":"END DATE FOR **OT** WAGES CLAIMED","label":"End date of this claim (MM/DD/YYYY)","name":"VTV1451","value":"","violationId":"a2Kd0000000timCEAQ","violationTypeId":"a1id0000001Sz3NAAS","dateFormat":true,"isHide":false},{"dataType":"Currency","description":"$ REGULAR RATE OF PAY (Hourly rate)","label":"What is your regular hourly rate of pay?","name":"VTV1449","value":"","violationId":"a2Kd0000000tif3EAA","violationTypeId":"a1id0000001Sz3NAAS","currencyFormat":true,"isHide":false},{"dataType":"Integer","description":"TOTAL NUMBER OF **OT** HRS WORKED DURING CLAIM PERIOD","label":"How many overtime hours did you work during this claim period?","name":"VTV1452","value":"","violationId":"a2Kd0000000tiaQEAQ","violationTypeId":"a1id0000001Sz3NAAS","inputFormat":true,"isHide":false},{"dataType":"Currency","description":"$ TOTAL AMOUNT PAID BY EMPLOYER FOR **OT** HRS WORKED DURING CLAIM PERIOD","label":"What is the total amount paid by the employer for overtime hours worked during this claim period?","name":"VTV1453","value":"","violationId":"a2Kd0000000tilcEAA","violationTypeId":"a1id0000001Sz3NAAS","currencyFormat":true,"isHide":false}],"isSalaryRatePOW":false,"isOneHourlyRec":false,"isSalaryRatePOWRec":false,"isOneHourlyRecs":false,"isSalaryRatePOWRecs":false,"isAdditonalCheck":false}],"renderOverTimeSection":[{"heading":"Overtime Claim","button":false,"sectionId":1}],"noSickLeavePaid":false,"isThirdOptionTrue":false,"notPaidForVacationTime":false,"isFourthOptionTrue":false,"notPaidForHoliday":false,"isFifthOptionTrue":false,"notAllowedBathBreak":false,"isSixthOptionTrue":false,"notAllowedMealBreak":false,"isSeventhOptionTrue":false,"notAllowedForHeatRest":false,"isEightOptionTrue":false,"notPaidSeverancePay":false,"deniedShareTips":false,"isTenthOptionTrue":false,"deniedBusinessCost":false,"isEleventhOptionTrue":false,"deniedPaymentMilega":false,"isTwelveOptionTrue":false,"paycheckDeduction":false,"isThirteenthOptionTrue":false,"deniedPayrollInfo":false,"isFouteenOptionTrue":false,"deniedPersonnelFile":false,"isFifteenOptionTrue":false,"employerDeniedWork":false,"isSixteenOptionTrue":false,"productionBonus":false,"isSeventeenOptionTrue":false,"reportedToWork":false,"isEighteenOptionTrue":false,"isEmployeeWorkedDateValid":false,"vacationTimeClaimDetails":[],"isVacationTimeClaimUpload":false,"isVacationTime":false,"isHolidayPay":false,"isSeverancePay":false,"isPayRollInfo":false,"isPayCheck":false,"isPersonalFile":false,"isProductionBonus":false,"isBusinessCost":false,"unreimbursedDoc":[],"isUnreimbursedUpload":false,"isExplain":false,"noticebeforequit":false,"contentVersionIds":[],"isHolidayPays":false,"isWrittenStatement":false,"isHeatRestDef":false,"isShowClaimHeading":true,"paidbycheck":false,"werewagespaid":false,"isLatePayroll":false,"totalVacationFiles":[],"totalUnremburisedFiles":[],"isSeverancePayTrue":false,"flag":0}],"certAndAuthDetails":{"isAuthorizationRelease":true,"isAdditionalClaimDocUpload":false,"claimantName":"Jack","claimDate":"2021-11-08","contentVersionIds":[]}}';
        insert cse;
        
        DIR_Case__c caseObj = [SELECT Id, Garment_Interview_JSON__c FROM DIR_Case__c WHERE Related_Party_Employee_Email__c = 'rrastogi@cloudsciencelabs.com' LIMIT 1];
        
        Test.startTest();
        OWCGarmentInterviewDraftController.getOWCGarmentJSONResponse(caseObj.Id);
        OWCGarmentInterviewDraftController.updateCaseRecWithJSON('', caseObj.Garment_Interview_JSON__c);
        Test.stopTest();
    }
}