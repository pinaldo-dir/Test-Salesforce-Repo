<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>DeputyAssignmentNotSet</name>
        <label>DeputyAssignmentNotSet</label>
        <locationX>450</locationX>
        <locationY>258</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <connector>
            <targetReference>Get_Office_OwnerId</targetReference>
        </connector>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <stringValue>Assignment not set</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <stringValue>Deputy Assignment not set</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailAddresses</name>
            <value>
                <stringValue>jeremy@vertiba.com</stringValue>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Flow_started_chatter</name>
        <label>Flow started chatter</label>
        <locationX>180</locationX>
        <locationY>139</locationY>
        <actionName>chatterPost</actionName>
        <actionType>chatterPost</actionType>
        <connector>
            <targetReference>Assignment_Set</targetReference>
        </connector>
        <inputParameters>
            <name>subjectNameOrId</name>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>text</name>
            <value>
                <elementReference>ChatterDebug</elementReference>
            </value>
        </inputParameters>
        <nameSegment>chatterPost</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Inspection_Request</name>
        <label>Inspection Request</label>
        <locationX>1203</locationX>
        <locationY>319</locationY>
        <actionName>chatterPost</actionName>
        <actionType>chatterPost</actionType>
        <connector>
            <targetReference>Get_Inspection</targetReference>
        </connector>
        <inputParameters>
            <name>subjectNameOrId</name>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>text</name>
            <value>
                <stringValue>Identified as inspection request</stringValue>
            </value>
        </inputParameters>
        <nameSegment>chatterPost</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>Update_Case_Fault</name>
        <label>Update Case Fault</label>
        <locationX>728</locationX>
        <locationY>137</locationY>
        <actionName>chatterPost</actionName>
        <actionType>chatterPost</actionType>
        <connector>
            <targetReference>Case_Type</targetReference>
        </connector>
        <inputParameters>
            <name>subjectNameOrId</name>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>text</name>
            <value>
                <stringValue>Attempt to update case in Perform Assignment Actions flow failed. Attempted to update the case owner, email, manager and manager details, but was unable to do so.</stringValue>
            </value>
        </inputParameters>
        <nameSegment>chatterPost</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>49.0</apiVersion>
    <assignments>
        <description>Sets the Deputy and Senior on the inspection request</description>
        <name>Assign_Deputy_and_senior</name>
        <label>Assign Deputy and senior</label>
        <locationX>966</locationX>
        <locationY>542</locationY>
        <assignmentItems>
            <assignToReference>thisInspectionRequest.Assigned_Deputy__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AssignedDeputyUserID</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>thisInspectionRequest.Assigned_Senior_Deputy__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SeniorDeputyUserID</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>UpdateInspectionRequestCollection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Sets the Deputy and Senior on the inspection request</description>
        <name>Assign_Deputy_and_senior_0</name>
        <label>Assign Deputy and senior</label>
        <locationX>864</locationX>
        <locationY>970</locationY>
        <assignmentItems>
            <assignToReference>thisObjectViolation.Senior_Deputy__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SeniorDeputyUserID</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>UpdateCaseViolationColleciton</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Checks the flow when deputy is unassigned</description>
        <name>CheckUnassignment</name>
        <label>Check Unassignment</label>
        <locationX>516</locationX>
        <locationY>138</locationY>
        <assignmentItems>
            <assignToReference>CaseID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>a0om0000000paJ0</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assignment_Set</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Takes all input variables for the flow for use in testing the flow&apos;s function.</description>
        <name>Input_variable_check</name>
        <label>Input variable check</label>
        <locationX>361</locationX>
        <locationY>133</locationY>
        <assignmentItems>
            <assignToReference>CaseID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>a1B350000005jIj</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AssignedDeputyID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>a1C350000001VvG</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AssignedDeputyUserID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>00535000000e1NC</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AssignedDeputyEmail</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>peter@vertiba.com</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SeniorDeputyID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>a1C350000001Vv6</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SeniorDeputyUserID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>00535000000e1N7</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SeniorDeputyEmail</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>jeremy@vertiba.com</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>L_RCase</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>CaseRTID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>RCI</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assignment_Set</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>collection of the Violation records to update after assigning them their new values</description>
        <name>UpdateCaseViolationColleciton</name>
        <label>UpdateCaseViolationColleciton</label>
        <locationX>861</locationX>
        <locationY>1131</locationY>
        <assignmentItems>
            <assignToReference>UpdateCaseViolationsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>thisObjectViolation</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Case_Violations</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>collection of the IR records to update after assigning them their new values</description>
        <name>UpdateInspectionRequestCollection</name>
        <label>UpdateInspectionRequestCollection</label>
        <locationX>967</locationX>
        <locationY>695</locationY>
        <assignmentItems>
            <assignToReference>UpdateIRCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>thisInspectionRequest</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Iterate_through_Inspection_Request_Collection</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Assignment_Date_Set</name>
        <label>Assignment Date Set</label>
        <locationX>919</locationX>
        <locationY>167</locationY>
        <defaultConnector>
            <targetReference>RCI_Case_Task_Assignment_Notification</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Assignment Changed</defaultConnectorLabel>
        <rules>
            <name>Assignment_Date_Blank</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>IntialAssignmentDate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Deputy_Assignment_Start</targetReference>
            </connector>
            <label>Assignment Date Blank</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks whether the assignment has been set or removed</description>
        <name>Assignment_Set</name>
        <label>Assignment Set?</label>
        <locationX>253</locationX>
        <locationY>290</locationY>
        <defaultConnector>
            <targetReference>Get_Office_OwnerId</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Assignment Not Set</defaultConnectorLabel>
        <rules>
            <name>DeputyAssignment_Set</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>AssignedDeputyID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>AssignedDeputyID</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Senior_Email_submitted</targetReference>
            </connector>
            <label>Deputy Assignment Set</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks whether the assignment has been set or removed</description>
        <name>Assignment_Set_0</name>
        <label>Assignment Set?</label>
        <locationX>1355</locationX>
        <locationY>962</locationY>
        <defaultConnectorLabel>Assignment Not Set</defaultConnectorLabel>
        <rules>
            <name>DeputyAssignment_Set_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>AssignedDeputyID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <label>Deputy Assignment Set</label>
        </rules>
    </decisions>
    <decisions>
        <name>Case_Type</name>
        <label>Case Type</label>
        <locationX>916</locationX>
        <locationY>320</locationY>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>BOFE_L_R_Request</name>
            <conditionLogic>( 1 OR 2 ) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>CaseRTID</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>BOFE_Inspection_Request</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>CaseRTID</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>BOFE_Investigation</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>L_RCase</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Inspection_Request</targetReference>
            </connector>
            <label>BOFE L&amp;R Request</label>
        </rules>
        <rules>
            <name>WCA_Garment</name>
            <conditionLogic>( 1 OR 2 ) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>CaseRTID</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>WCA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>CaseRTID</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Garment</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CM_WCA_Garment_Case_Assign</targetReference>
            </connector>
            <label>WCA/Garment</label>
        </rules>
        <rules>
            <name>RCI</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CaseRTID</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>RCI</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assignment_Date_Set</targetReference>
            </connector>
            <label>RCI</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks the case rec type to determine which queue should own the case that has no deputy and no office assigned</description>
        <name>CaseRTCheck</name>
        <label>CaseRT</label>
        <locationX>749</locationX>
        <locationY>714</locationY>
        <defaultConnectorLabel>No Rec Type Match</defaultConnectorLabel>
        <rules>
            <name>BOFE</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CaseRTID</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>BOFE</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Unassigned_Queue_Id</targetReference>
            </connector>
            <label>BOFE</label>
        </rules>
        <rules>
            <name>RT_WCA</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CaseRTID</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>WCA</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Unassigned_Queue_WCA</targetReference>
            </connector>
            <label>WCA</label>
        </rules>
        <rules>
            <name>RT_Garment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CaseRTID</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Garment</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Unassigned_Queue_Garment</targetReference>
            </connector>
            <label>Garment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_OfficeOwnerId</name>
        <label>Check OfficeOwnerId</label>
        <locationX>273</locationX>
        <locationY>537</locationY>
        <defaultConnector>
            <targetReference>CaseRTCheck</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>OfficeOwnerId_Is_not_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OfficeOwnerId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateCase_NoDeputy</targetReference>
            </connector>
            <label>OfficeOwnerId Is not Null</label>
        </rules>
        <rules>
            <name>OfficeOwnerId_Is_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>OfficeOwnerId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CaseRTCheck</targetReference>
            </connector>
            <label>OfficeOwnerId Is NULL</label>
        </rules>
    </decisions>
    <decisions>
        <description>Determines if the senior deputy&apos;s email was submitted to the flow or must be looked up.</description>
        <name>Senior_Email_submitted</name>
        <label>Senior Email submitted?</label>
        <locationX>421</locationX>
        <locationY>433</locationY>
        <defaultConnector>
            <targetReference>Get_Senior_Email</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Present - Lookup Email</defaultConnectorLabel>
        <rules>
            <name>Present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SeniorDeputyEmail</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateCase</targetReference>
            </connector>
            <label>Present</label>
        </rules>
        <rules>
            <name>No_Senior_ID</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SeniorDeputyID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>No Senior ID</label>
        </rules>
    </decisions>
    <description>Modified update of case when no deputy is assigned to clear the assigned deputy manager and owner&apos;s manager fields
Added RCI as a record type for task notification and Assignment Date
Add decision to set assignment start 1 time</description>
    <interviewLabel>CM: Perform Assignment Actions {!$Flow.CurrentDateTime}</interviewLabel>
    <label>CM: Perform Assignment Actions</label>
    <loops>
        <name>Case_Violations</name>
        <label>Case Violations</label>
        <locationX>1102</locationX>
        <locationY>969</locationY>
        <assignNextValueToReference>thisObjectViolation</assignNextValueToReference>
        <collectionReference>objectViolations</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Deputy_and_senior_0</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Case_Violations</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Iterate_through_Inspection_Request_Collection</name>
        <label>Iterate through Inspection Request Collection</label>
        <locationX>1211</locationX>
        <locationY>540</locationY>
        <assignNextValueToReference>thisInspectionRequest</assignNextValueToReference>
        <collectionReference>Inspection_Request_Collection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Deputy_and_senior</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Inspection_Requests</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Case_Violations</name>
        <label>Get Case Violations</label>
        <locationX>1213</locationX>
        <locationY>824</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Case_Violations</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </filters>
        <object>DIR_Violation__c</object>
        <outputReference>objectViolations</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Senior_Deputy__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Inspection</name>
        <label>Get Inspection</label>
        <locationX>1208</locationX>
        <locationY>421</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Iterate_through_Inspection_Request_Collection</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Case__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Inspection Complete</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed</stringValue>
            </value>
        </filters>
        <object>Inspection_Request__c</object>
        <outputReference>Inspection_Request_Collection</outputReference>
        <queriedFields>Assigned_Deputy__c</queriedFields>
        <queriedFields>Assigned_Senior_Deputy__c</queriedFields>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Office_OwnerId</name>
        <label>Get Office OwnerId</label>
        <locationX>138</locationX>
        <locationY>453</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_OfficeOwnerId</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>DirOfficeId</elementReference>
            </value>
        </filters>
        <object>Office__c</object>
        <outputAssignments>
            <assignToReference>OfficeOwnerId</assignToReference>
            <field>OwnerId</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Uses the senior ID passed into the flow to get the email address</description>
        <name>Get_Senior_Email</name>
        <label>Get Senior Email</label>
        <locationX>775</locationX>
        <locationY>401</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>UpdateCase</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>SeniorDeputyID</elementReference>
            </value>
        </filters>
        <object>DIR_Employee__c</object>
        <outputAssignments>
            <assignToReference>SeniorDeputyEmail</assignToReference>
            <field>Email__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Gets the default office for Garment</description>
        <name>Get_Unassigned_Queue_Garment</name>
        <label>Get Unassigned Queue Id - Garment</label>
        <locationX>450</locationX>
        <locationY>662</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>UpdateCase_NoDeputy</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>AB633_Los_Angeles</stringValue>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <object>Group</object>
        <outputAssignments>
            <assignToReference>OfficeOwnerId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Gets the queue for the BOFE unassigned to set the owner of the case to the BOFE Unassigned queue</description>
        <name>Get_Unassigned_Queue_Id</name>
        <label>Get Unassigned Queue Id - BOFE</label>
        <locationX>476</locationX>
        <locationY>786</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>UpdateCase_NoDeputy</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Unassigned</stringValue>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <object>Group</object>
        <outputAssignments>
            <assignToReference>OfficeOwnerId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Gets the queue for the WCA unassigned to set the owner of the case to the WCA Unassigned queue</description>
        <name>Get_Unassigned_Queue_WCA</name>
        <label>Get Unassigned Queue Id - WCA</label>
        <locationX>689</locationX>
        <locationY>560</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>UpdateCase_NoDeputy</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>WCA_No_Office</stringValue>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <object>Group</object>
        <outputAssignments>
            <assignToReference>OfficeOwnerId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordUpdates>
        <name>Deputy_Assignment_Start</name>
        <label>Deputy Assignment Start</label>
        <locationX>1364</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>RCI_Case_Task_Assignment_Notification</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Assignment_Start_Date__c</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <object>DIR_Case__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case_Violations</name>
        <label>Update Case Violations</label>
        <locationX>1102</locationX>
        <locationY>1133</locationY>
        <connector>
            <targetReference>Assignment_Set_0</targetReference>
        </connector>
        <inputReference>UpdateCaseViolationsCollection</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Inspection_Requests</name>
        <label>Update Inspection Requests</label>
        <locationX>1212</locationX>
        <locationY>686</locationY>
        <connector>
            <targetReference>Get_Case_Violations</targetReference>
        </connector>
        <inputReference>UpdateIRCollection</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateCase</name>
        <label>Update Case</label>
        <locationX>627</locationX>
        <locationY>280</locationY>
        <connector>
            <targetReference>Case_Type</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Update_Case_Fault</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Assigned_Deputy_Email__c</field>
            <value>
                <elementReference>AssignedDeputyEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>AssignedDeputyUserID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Owner_s_Manager__c</field>
            <value>
                <elementReference>SeniorDeputyUserID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Senior_Deputy_Email__c</field>
            <value>
                <elementReference>SeniorDeputyEmail</elementReference>
            </value>
        </inputAssignments>
        <object>DIR_Case__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateCase_NoDeputy</name>
        <label>Update Case - No Deputy Assigned</label>
        <locationX>185</locationX>
        <locationY>654</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Assigned_Deputy_Email__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>OfficeOwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Owner_s_Manager__c</field>
        </inputAssignments>
        <object>DIR_Case__c</object>
    </recordUpdates>
    <startElementReference>Assignment_Set</startElementReference>
    <status>Active</status>
    <subflows>
        <description>Actions to execute for assigned WCA/Garment cases.</description>
        <name>CM_WCA_Garment_Case_Assign</name>
        <label>CM: WCA/Garment Case Assign</label>
        <locationX>934</locationX>
        <locationY>445</locationY>
        <flowName>CM_WCA_Garment_Case_Assign</flowName>
        <inputAssignments>
            <name>CaseID</name>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>AssignedDeputyUserID</name>
            <value>
                <elementReference>AssignedDeputyUserID</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>RCI_Case_Task_Assignment_Notification</name>
        <label>RCI Case Task Assignment Notification</label>
        <locationX>1361</locationX>
        <locationY>245</locationY>
        <flowName>CM_RCI_Case_Assignment_Notification</flowName>
        <inputAssignments>
            <name>CaseID</name>
            <value>
                <elementReference>CaseID</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>AssignedDeputyUserID</name>
            <value>
                <elementReference>AssignedDeputyUserID</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <textTemplates>
        <name>ChatterDebug</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>CM: Perform Assignment Actions started

AssignedDeputyID = {!AssignedDeputyID}</text>
    </textTemplates>
    <textTemplates>
        <description>Used for verifying the values of the input variables</description>
        <name>InputVariableCheck</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>CaseID: {!CaseID}
Case RT: {!CaseRTID}
Assigned Deputy ID: {!AssignedDeputyID}
Assigned Deputy User ID: {!AssignedDeputyUserID}
Assigned Deputy Email: {!AssignedDeputyEmail}
Senior Deputy ID: {!SeniorDeputyID}
Senior Deputy User ID: {!SeniorDeputyUserID}
Senior Deputy Email: {!SeniorDeputyEmail}</text>
    </textTemplates>
    <variables>
        <description>Email Address of the assigned deputy. Passed as input to avoid necessity to query within the flow</description>
        <name>AssignedDeputyEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>ID of the assigned deputy. Flow uses this value to set all values for related fields, records, etc</description>
        <name>AssignedDeputyID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>The User ID of the assigned deputy</description>
        <name>AssignedDeputyUserID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>ID of the case that triggered the flow</description>
        <name>CaseID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Input variable indicating the case record type</description>
        <name>CaseRTID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>DirOfficeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Collection of all inspection requests on this</description>
        <name>Inspection_Request_Collection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Inspection_Request__c</objectType>
    </variables>
    <variables>
        <name>IntialAssignmentDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Input variable indicating L&amp;R case</description>
        <name>L_RCase</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Violations Related to Case</description>
        <name>objectViolations</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>DIR_Violation__c</objectType>
    </variables>
    <variables>
        <name>OfficeOwnerId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Receives the email address of the senior deputy as an input to the flow</description>
        <name>SeniorDeputyEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Receives the senior deputy&apos;s ID as an input to the flow</description>
        <name>SeniorDeputyID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Receives the User ID of the senior deputy as an input to the flow</description>
        <name>SeniorDeputyUserID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Status</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Instance of inspection request being worked on</description>
        <name>thisInspectionRequest</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Inspection_Request__c</objectType>
    </variables>
    <variables>
        <description>The individual Object Violation on Case</description>
        <name>thisObjectViolation</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>DIR_Violation__c</objectType>
    </variables>
    <variables>
        <description>Case Violations to Update</description>
        <name>UpdateCaseViolationsCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>DIR_Violation__c</objectType>
    </variables>
    <variables>
        <description>Collection of the Inspection requests to update</description>
        <name>UpdateIRCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Inspection_Request__c</objectType>
    </variables>
</Flow>
